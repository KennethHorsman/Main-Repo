'''
In this part of the assignment, you will create a small graphical Python program. The program will read
two integers as input from the user. Its output will be a “smiley” (loosely defined) centered on the
position specified by the user. For example, if the user enters 400 and 300 as input, then the face
should be centered in the window. If the user enters 0 and 0, then the face should be centered in the
upper left corner of the window, with part of it cut off by the edge of the window. Use the
SimpleGraphics library that you were introduced to previously to complete this task.

• The image generated by your program should be some sort of a face that uses most of the
drawing area.
• The image generated by your program must use at least 4 distinct colors.
• The image generated by your program must use at least 4 different graphics primitives such as
ellipses, polygons, rectangles, text, etc.
• Your program may not load images or use other features that require files beyond your .py file.
Please use standard fonts such as Arial or Times if you choose to include text in your image.
• Do not resize the window.
• Your program should read only two input values: the x-position and the y-position of the center
of the face.
• Your program must include appropriate comments, including a comment at the top of your file
that includes your name and student number and describes the purpose of your program.
There should also be comments within the program that indicate which lines of code draw
different parts of the face (eyes, nose, hair, ears, mouth, etc.).
• You do not need to replace numbers used to control the positions of shapes with named
constants.
• Do not display your student number as part of the image.
'''

from SimpleGraphics import *
# Is there no way to make the window wait to open until something is drawn?

def main():
    print('This program takes coordinates as input and display a smiley face at that location.\n'
    'Note: The default window size is 800 x 600.')

    x = get_coord("x")
    y = get_coord("y")

    ### REFERENCES ###
    HEAD_OFFSET = 150
    HEAD_SIZE = HEAD_OFFSET * 2

    # Ear Offset
    EO1 = 175; EO2 = 125; EO3 = 100

    # Eye Offset
    I_WIDTH = 50; I_HEIGHT = 40
    IO1 = 100
    IO2 = 50

    ### SHAPES ###
    setFill(0,0, 150)
    rect(0,0, 800,600)

    setOutline(225,190,135)
    setFill(225,190,135)
    polygon(x-EO1,y-EO1, x-EO2,y, x,y-EO3) # left ear
    polygon(x+EO1,y-EO1, x+EO2,y, x,y-EO3) # right ear

    setFill(238,197,145)
    ellipse(x-HEAD_OFFSET, y-HEAD_OFFSET, HEAD_SIZE, HEAD_SIZE) # base of head

    #setFill(135,200,135)
    #pieSlice(x-IO1,y-I_HEIGHT, I_WIDTH,y-I_HEIGHT, 180, 180)

    setFill(255,255,255)
    pieSlice(x-IO1,y-IO2, I_WIDTH,I_HEIGHT, 180, 180) # left eye
    pieSlice(x+IO1-I_WIDTH,y-IO2, I_WIDTH,I_HEIGHT, 180, 180) # right eye

    setOutline(255,255,255); setFill(135,200,135)
    ellipse(x-IO1+20,y-IO2+20, 20, 20) # left iris
    ellipse(x+IO1-30,y-IO2+20, 20, 20) # right iris

    setOutline(0,0,0), setFill(0,0,0)
    ellipse(x-IO1+30,y-IO2+25, 5, 5) # left iris
    ellipse(x+IO1-20,y-IO2+25, 5, 5) # right iris

    polygon(x-20,y, x+20,y, x,y+30) # nose
    line(x,y+30, x-50,y+30) # left whisker 1
    line(x,y+30, x-50,y+40) # left whisker 1
    line(x,y+30, x+50,y+30) # right whisker 1
    line(x,y+30, x+50,y+40) # right whisker 2


def get_coord(type):
    getting_coord = True
    while getting_coord:
        coord = input(f"Please enter the {type} coordinate: ")

        try:
            int(coord) # does not actually convert coord to int but tests if it can do so successfully
        except ValueError:
            print("Error: The value entered must be a number.")
            continue # ends the current loop

        if 0 <= int(coord) <= (800 if type == "x" else 600):
            return int(coord)
        else:
            print(f"Error: The {type} value must be between 0 and {800 if type == "x" else 600}.")

if __name__=="__main__":
    main()